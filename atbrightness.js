function win32or64(){return"x86"===process.env.PROCESSOR_ARCHITECTURE&&process.env.PROCESSOR_ARCHITEW6432?64:"AMD64"===process.env.PROCESSOR_ARCHITECTURE?64:"x64"===process.env.CURRENT_CPU?64:32}function atbrightness(){brightness_inited||atbrightness.prototype.init()}function cleanup(){binding.close(),brightness_inited=!1,brightness_auto=!1,brightness_value=0,brightness_min=0,brightness_max=0}var binding_path=64===win32or64()?"./binding/x64/node-atbrightness.node":"./binding/ia32/node-atbrightness.node",binding=require(binding_path),brightness_inited=!1,brightness_auto=!1,brightness_value=0,brightness_max=0,brightness_min=0;atbrightness.prototype.init=(()=>{binding.open(),brightness_inited=!0,brightness_value=binding.getBrightnessValue(0),brightness_min=binding.getBrightnessValue(1),brightness_max=binding.getBrightnessValue(2),brightness_auto=binding.checkAutoBrightness()}),atbrightness.prototype.checkautobrightness=(()=>binding.checkAutoBrightness()),atbrightness.prototype.setautobrightness=(n=>binding.setAutoBrightness(n)),atbrightness.prototype.getbrightnessvalue=(()=>binding.getBrightnessValue(0)),atbrightness.prototype.setbrightnessvalue=(n=>n<=brightness_max&&n>=brightness_min?(binding.setBrightnessValue(n),brightness_value=binding.getBrightnessValue(0)):50),atbrightness.prototype.getbrightnessmin=(()=>brightness_min),atbrightness.prototype.getbrightnessmax=(()=>brightness_max),process.on("exit",n=>{cleanup()}),process.on("uncaughtException",n=>{console.error("UNCAUGHT EXCEPTION:",n),process.exit(1)}),module.exports=new atbrightness;
